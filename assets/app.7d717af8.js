import{a2 as m,V as l,a3 as g,a4 as E,a5 as w,a6 as C,a7 as _,a8 as z,a9 as A,aa as L,ab as P,ac as D,ad as T,d as j,u as R,j as S,A as B,ae as I,af as O,ag as M}from"./chunks/framework.01065553.js";import{t as p}from"./chunks/theme.900545ee.js";function k(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var h,u,a,v,d,f,s,i=!1,c=[];typeof document<"u"&&(v=function(e){return i||document.readyState==="interactive"||document.readyState==="complete"?e.call(document):c.push(function(){return e.call(this)}),this},f=function(){for(var e=0,t=c.length;e<t;e++)c[e].apply(document);c=[]},s=function(){i||(i=!0,f.call(window),document.removeEventListener?document.removeEventListener("DOMContentLoaded",s,!1):document.attachEvent&&(document.detachEvent("onreadystatechange",s),window==window.top&&(clearInterval(d),d=null)))},document.addEventListener?document.addEventListener("DOMContentLoaded",s,!1):document.attachEvent&&(document.attachEvent("onreadystatechange",function(){/loaded|complete/.test(document.readyState)&&s()}),window==window.top&&(d=setInterval(function(){try{i||document.documentElement.doScroll("left")}catch{return}s()},5))));h={fetch:function(e,t){var n="BusuanziCallback_"+Math.floor(1099511627776*Math.random());e=e.replace("=BusuanziCallback","="+n),a=document.createElement("SCRIPT"),a.type="text/javascript",a.defer=!0,a.src=e,document.getElementsByTagName("HEAD")[0].appendChild(a),window[n]=this.evalCall(t)},evalCall:function(e){return function(t){v(function(){try{e(t),a&&a.parentElement&&a.parentElement.removeChild&&a.parentElement.removeChild(a)}catch(n){console.log(n),u.hides()}})}}};const y=()=>{u&&u.hides(),h.fetch("//busuanzi.ibruce.info/busuanzi?jsonpCallback=BusuanziCallback",function(e){u.texts(e),u.shows()})};u={bszs:["site_pv","page_pv","site_uv"],texts:function(e){this.bszs.map(function(t){var n=document.getElementById("busuanzi_value_"+t);n&&(n.innerHTML=e[t])})},hides:function(){this.bszs.map(function(e){var t=document.getElementById("busuanzi_container_"+e);t&&(t.style.display="none")})},shows:function(){this.bszs.map(function(e){var t=document.getElementById("busuanzi_container_"+e);t&&(t.style.display="inline")})}};typeof document<"u"&&y();var x={fetch:y},F=x;const V=k(F),H={extends:p,Layout:()=>m(p.Layout,null,{}),enhanceApp({app:e,router:t,siteData:n}){l&&(t.onAfterRouteChanged=()=>{V.fetch()})}};function b(e){if(e.extends){const t=b(e.extends);return{...t,...e,async enhanceApp(n){t.enhanceApp&&await t.enhanceApp(n),e.enhanceApp&&await e.enhanceApp(n)}}}return e}const r=b(H),$=j({name:"VitePressApp",setup(){const{site:e}=R();return S(()=>{B(()=>{document.documentElement.lang=e.value.lang,document.documentElement.dir=e.value.dir})}),I(),O(),M(),r.setup&&r.setup(),()=>m(r.Layout)}});async function N(){const e=U(),t=G();t.provide(E,e);const n=w(e.route);return t.provide(C,n),t.component("Content",_),t.component("ClientOnly",z),Object.defineProperties(t.config.globalProperties,{$frontmatter:{get(){return n.frontmatter.value}},$params:{get(){return n.page.value.params}}}),r.enhanceApp&&await r.enhanceApp({app:t,router:e,siteData:A}),{app:t,router:e,data:n}}function G(){return L($)}function U(){let e=l,t;return P(n=>{let o=D(n);return o?(e&&(t=o),(e||t===o)&&(o=o.replace(/\.js$/,".lean.js")),l&&(e=!1),T(()=>import(o),[])):null},r.NotFound)}l&&N().then(({app:e,router:t,data:n})=>{t.go().then(()=>{g(t.route,n.site),e.mount("#app")})});export{N as createApp};
